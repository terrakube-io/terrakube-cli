#!/usr/bin/env bash
set -euo pipefail

echo "==> Running go build..."
go build ./...

echo "==> Running tests..."
go test ./...

if command -v golangci-lint &>/dev/null; then
  echo "==> Running golangci-lint..."
  golangci-lint run ./...
else
  echo "==> golangci-lint not found, skipping (install: go install github.com/golangci/golangci-lint/v2/cmd/golangci-lint@latest)"
fi

echo "==> All checks passed."
